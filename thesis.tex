% !TeX spellcheck = en_US
% TODO: Check dates, affidavit
% TODO: Check consistent spelling (hyphenation)

\documentclass[a4paper,justified,
	notitlepage,
	nofonts,
	notoc,
	nobib]
{tufte-book}

% A4 widths
% \marginparwidth = 1.94525in
% \textwidth = 4.21342in
% \pagewidth = 6.29707in

% Book metadata
\title{Agricultural Plastic Covers---Source of Plastic Debris in Soil?}
\author{Zacharias Steinmetz}
\publisher{Universit√§t Koblenz--Landau}

\usepackage{microtype}

\usepackage{rotating,graphicx}
	\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio}

\usepackage{amsmath}  % extended mathematics
\usepackage{amsthm}
\usepackage{booktabs} % book-quality tables
\usepackage{tabulary}
\usepackage{multicol} % multiple column layout facilities
\usepackage{units}    % non-stacked fractions and better unit spacing
\usepackage[shortcuts]{extdash}
\usepackage[inline]{enumitem}
\usepackage{pgfgantt}
\usepackage{siunitx}
\usepackage{acro}
\usepackage{chemmacros}
\usepackage{chemfig}
\chemsetup{modules = redox}

% The fancyvrb package lets us customize the formatting of verbatim
% environments. We use a slightly smaller font.
\usepackage{fancyvrb} % extended verbatim environments
\fvset{fontsize=\normalsize}

\usepackage[
	backend=bibtex,
	natbib=true,
	style=ext-authoryear,
	date=year,
	maxnames=2,
	maxbibnames=10,
	dashed=false,
	clearlang=false,
	articlein=false,
	hyperref=true,
	giveninits=true,
	uniquename=init
]{biblatex}

% Add bibliography
\addbibresource{references.bib}

% Prints argument within hanging parentheses (i.e., parentheses that take
% up no horizontal space).  Useful in tabular environments.
\newcommand{\hangp}[1]{\makebox[0pt][r]{(}#1\makebox[0pt][l]{)}}

% Prints an asterisk that takes up no horizontal space.
% Useful in tabular environments.
\newcommand{\hangstar}{\makebox[0pt][l]{*}}

% Prints a trailing space in a smart way.
\usepackage{xspace}

% Prints the month name (e.g., January) and the year (e.g., 2008)
\newcommand{\monthyear}{%
  \ifcase\month\or January\or February\or March\or April\or May\or June\or
  July\or August\or September\or October\or November\or
  December\fi\space\number\year
}

% Prints an epigraph and speaker in sans serif, all-caps type.
\newcommand{\openepigraph}[2]{%
	%\sffamily\fontsize{14}{16}\selectfont
	\begin{fullwidth}
		\sffamily\large
		\begin{doublespace}
			\noindent\allcaps{#1}\\% epigraph
			\noindent\allcaps{#2}% author
		\end{doublespace}
	\end{fullwidth}
}

% Inserts a blank page
\newcommand{\blankpage}{\newpage\hbox{}\thispagestyle{empty}\newpage}

% Typesets the font size, leading, and measure in the form of 10/12x26 pc.
\newcommand{\measure}[3]{#1/#2$\times$\unit[#3]{pc}}

% Macros for typesetting the documentation
\newcommand{\hlred}[1]{\textcolor{Maroon}{#1}}% prints in red
\newcommand{\hangleft}[1]{\makebox[0pt][r]{#1}}
\newcommand{\hairsp}{\hspace{1pt}}% hair space
\newcommand{\hquad}{\hskip0.5em\relax}% half quad space
\newcommand{\TODO}{\textcolor{red}{\bf TODO!}\xspace}
\newcommand{\na}{\quad--}% used in tables for N/A cells
\providecommand{\XeLaTeX}{X\lower.5ex\hbox{\kern-0.15em\reflectbox{E}}\kern-0.1em\LaTeX}
\newcommand{\tXeLaTeX}{\XeLaTeX\index{XeLaTeX@\protect\XeLaTeX}}
% \index{\texttt{\textbackslash xyz}@\hangleft{\texttt{\textbackslash}}\texttt{xyz}}
\newcommand{\tuftebs}{\symbol{'134}}% a backslash in tt type in OT1/T1
\newcommand{\doccmdnoindex}[2][]{\texttt{\tuftebs#2}}% command name -- adds backslash automatically (and doesn't add cmd to the index)
\newcommand{\doccmddef}[2][]{%
	\hlred{\texttt{\tuftebs#2}}\label{cmd:#2}%
	\ifthenelse{\isempty{#1}}%
	{% add the command to the index
		\index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2}}% command name
	}%
	{% add the command and package to the index
		\index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2} (\texttt{#1} package)}% command name
		\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% package name
	}%
}% command name -- adds backslash automatically
\newcommand{\doccmd}[2][]{%
	\texttt{\tuftebs#2}%
	\ifthenelse{\isempty{#1}}%
	{% add the command to the index
		\index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2}}% command name
	}%
	{% add the command and package to the index
		\index{#2 command@\protect\hangleft{\texttt{\tuftebs}}\texttt{#2} (\texttt{#1} package)}% command name
		\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% package name
	}%
}% command name -- adds backslash automatically
\newcommand{\docopt}[1]{\ensuremath{\langle}\textrm{\textit{#1}}\ensuremath{\rangle}}% optional command argument
\newcommand{\docarg}[1]{\textrm{\textit{#1}}}% (required) command argument
\newenvironment{docspec}{\begin{quotation}\ttfamily\parskip0pt\parindent0pt\ignorespaces}{\end{quotation}}% command specification environment
\newcommand{\docenv}[1]{\texttt{#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}% environment name
\newcommand{\docenvdef}[1]{\hlred{\texttt{#1}}\label{env:#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}% environment name
\newcommand{\docpkg}[1]{\texttt{#1}\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}}% package name
\newcommand{\doccls}[1]{\texttt{#1}}% document class name
\newcommand{\docclsopt}[1]{\texttt{#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}% document class option name
\newcommand{\docclsoptdef}[1]{\hlred{\texttt{#1}}\label{clsopt:#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}% document class option name defined
\newcommand{\docmsg}[2]{\bigskip\begin{fullwidth}\noindent\ttfamily#1\end{fullwidth}\medskip\par\noindent#2}
\newcommand{\docfilehook}[2]{\texttt{#1}\index{file hooks!#2}\index{#1@\texttt{#1}}}
\newcommand{\doccounter}[1]{\texttt{#1}\index{#1 counter@\texttt{#1} counter}}

% Further options
\input{options}
\input{acronyms}
\input{hypenation}

\begin{document}

% Front matter
\frontmatter
\pagenumbering{roman}

% Half-title
\include{frontbackmatter/halftitle}

% Full title page
\include{frontbackmatter/titlepage}

% Copyright page
\newpage
\include{frontbackmatter/copyright}

% Dedication
\include{frontbackmatter/dedication}
\cleardoublepage

% Summary
\include{frontbackmatter/acknowledgments}
\cleardoublepage
\include{frontbackmatter/summary}
\clearpage
\include{frontbackmatter/zusammenfassung}
\clearpage
\thispagestyle{empty}

% Contents
\begin{fullwidth}
	\tableofcontents
\end{fullwidth}

% Start the main matter (normal chapters)
\mainmatter
\pagenumbering{arabic}
\acresetall

\include{chapters/introduction}
\include{chapters/plastic-mulching}
\include{chapters/tga-ms-method}
\include{chapters/py-gc-ms-method}
\include{chapters/analytical-techniques}
\include{chapters/screening}
\include{chapters/general-discussion}

\begin{fullwidth}
	\chapter{Bibliography}
	\printbibliography[heading=none,notcategory=ignore]
\end{fullwidth}

\appendix

\part*{Appendices}
\include{appendices/tga-ms-method}

\backmatter
\cleardoublepage

% TODO: Check for short captions
\begin{fullwidth}
	\listoffigures
	\addcontentsline{toc}{chapter}{List of Figures}
\end{fullwidth}

\begin{fullwidth}
	\listoftables
	\addcontentsline{toc}{chapter}{List of Tables}
\end{fullwidth}

\begin{fullwidth}
	\printacronyms[name = List of Abbreviations, heading = chapter, template = thesis]
\end{fullwidth}

\cleardoublepage
\pagenumbering{Roman}

\include{frontbackmatter/publications}
\include{frontbackmatter/affidavit}
\include{frontbackmatter/cv}

\end{document}
